<<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Veux-tu Ãªtre ma Valentine ? ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #ff758c, #ff7eb3);
    overflow: hidden;
    color: white;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0;
    text-align: center;
  }

  /* ğŸ’• Coeurs animÃ©s */
  .heart {
    position: fixed;
    bottom: -20px;
    font-size: 20px;
    animation: floatUp 6s linear infinite;
    opacity: 0.7;
  }

  @keyframes floatUp {
    0% { transform: translateY(0) scale(1); opacity: 0; }
    10% { opacity: 1; }
    100% { transform: translateY(-110vh) scale(1.5); opacity: 0; }
  }

  .card {
    background: rgba(255,255,255,0.2);
    padding: 30px;
    border-radius: 25px;
    max-width: 420px;
    width: 90%;
    box-shadow: 0 15px 40px rgba(0,0,0,0.3);
    position: relative;
    z-index: 10;
  }

  h1 {
    font-size: 1.8em;
    margin-bottom: 10px;
  }

  p {
    margin: 10px 0;
  }

  input, textarea, button {
    width: 100%;
    padding: 12px;
    margin: 10px 0;
    border-radius: 12px;
    border: none;
    font-size: 1em;
  }

  textarea {
    resize: none;
  }

  button {
    cursor: pointer;
    font-weight: bold;
  }

  .yes {
    background: #4CAF50;
    color: white;
  }

  .no {
    background: #ff3b3b;
    color: white;
    position: relative;
  }

  .activity {
    background: white;
    color: #ff4d6d;
    margin: 8px 0;
    padding: 12px;
    border-radius: 12px;
    cursor: pointer;
    transition: transform 0.2s;
  }

  .activity:hover {
    transform: scale(1.05);
  }

  .link-box {
    background: white;
    color: #ff2e55;
    padding: 10px;
    border-radius: 10px;
    word-break: break-all;
  }
</style>
</head>

<body>

<div class="card" id="app"></div>

<script>
  // ğŸ’• Coeurs dÃ©coratifs
  setInterval(() => {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerText = "ğŸ’–";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animationDuration = 4 + Math.random() * 3 + "s";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 7000);
  }, 400);

  const params = new URLSearchParams(window.location.search);
  const from = params.get("from");
  const to = params.get("to");
  const msg = params.get("msg");
  const app = document.getElementById("app");

  // ğŸ’– PAGE VALENTINE
  if (from && to && msg) {
    app.innerHTML = `
      <h1>${escapeHTML(to)}, veux-tu Ãªtre ma Valentine ? ğŸ’˜</h1>
      <p><strong>${escapeHTML(from)}</strong> tâ€™a laissÃ© un message :</p>
      <p>"${escapeHTML(msg)}"</p>

      <button class="yes" onclick="sayYes()">OUI ğŸ˜</button>
      <button class="no" id="noBtn" onclick="runAway()">NON ğŸ™ƒ</button>
    `;
  }
  // ğŸ’Œ FORMULAIRE
  else {
    app.innerHTML = `
      <h1>CrÃ©er ta demande ğŸ’Œ</h1>
      <input id="from" placeholder="Ton prÃ©nom">
      <input id="to" placeholder="PrÃ©nom de ta Valentine">
      <textarea id="msg" placeholder="Ton message d'amour ğŸ’–"></textarea>
      <button class="yes" onclick="generateLink()">GÃ©nÃ©rer le lien ğŸ’•</button>
      <div id="result"></div>
    `;
  }

  function runAway() {
    const btn = document.getElementById("noBtn");
    btn.style.position = "absolute";
    btn.style.left = Math.random() * 60 + "%";
    btn.style.top = Math.random() * 60 + "%";
  }

  function sayYes() {
    app.innerHTML = `
      <h1>ELLE A DIT OUI ğŸ’–ğŸ‰</h1>
      <p>Alorsâ€¦ quâ€™est-ce quâ€™on fait ? ğŸ˜</p>

      <div class="activity" onclick="choose('Bowling ğŸ³')">ğŸ³ Bowling</div>
      <div class="activity" onclick="choose('Laser Game ğŸ”«')">ğŸ”« Laser Game</div>
      <div class="activity" onclick="choose('Manger dehors ğŸ½ï¸')">ğŸ½ï¸ Manger dehors</div>
      <div class="activity" onclick="choose('The Jump ğŸ¤¸')">ğŸ¤¸ The Jump</div>
    `;
  }

  function choose(activity) {
    alert("Parfait ğŸ˜ On part pour : " + activity);
  }

  function generateLink() {
    const fromVal = document.getElementById("from").value.trim();
    const toVal = document.getElementById("to").value.trim();
    const msgVal = document.getElementById("msg").value.trim();

    if (!fromVal || !toVal || !msgVal) {
      alert("Remplis tous les champs ğŸ’”");
      return;
    }

    const link =
      `${window.location.origin}${window.location.pathname}` +
      `?from=${encodeURIComponent(fromVal)}&to=${encodeURIComponent(toVal)}&msg=${encodeURIComponent(msgVal)}`;

    document.getElementById("result").innerHTML = `
      <p>Copie et partage ce lien ğŸ’–</p>
      <div class="link-box">${link}</div>
    `;
  }

  function escapeHTML(str) {
    return str.replace(/[&<>"']/g, m => ({
      "&": "&amp;",
      "<": "&lt;",
      ">": "&gt;",
      '"': "&quot;",
      "'": "&#039;"
    }[m]));
  }
</script>

</body>
</html>
